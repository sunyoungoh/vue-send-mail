(function(e){function t(t){for(var s,r,n=t[0],o=t[1],u=t[2],c=0,d=[];c<n.length;c++)r=n[c],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);m&&m(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,n=1;n<i.length;n++){var o=i[n];0!==l[o]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},l={app:0},a=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vue-send-mail/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var m=o;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);var s=i("2b0e"),l=i("7496"),a=i("f6c4"),r=function(){var e=this,t=e._self._c;return t(l["a"],[t(a["a"],[t("router-view")],1)],1)},n=[],o={name:"App"},u=o,m=(i("7637"),i("2877")),c=Object(m["a"])(u,r,n,!1,null,null,null),d=c.exports,p=i("8c4f"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[e._m(0),t("MailForm")],1)},v=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"pt-16 ma-auto text-center"},[t("h1",[e._v("SENDMAIL")])])}],h=i("8336"),b=i("4bd4"),O=i("b974"),I=i("8654"),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-container"},[t(b["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",{staticClass:"order-id-wrap"},[t(I["a"],{ref:"orderId",attrs:{label:"주문번호","error-messages":e.orderIdErrorMsg},on:{click:function(t){e.orderIdErrorMsg=""}},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}}),t(h["a"],{staticClass:"ml-4",attrs:{width:"80",color:"success white--text",elevation:"0"},on:{click:e.getOrderDetail}},[e._v("조회하기 ")])],1),t(O["a"],{attrs:{items:e.items,"item-text":"itemName","item-value":"itemId",rules:[e=>!!e||"상품을 선택해주세요."],label:"상품명",required:""},on:{change:e.resetSelectOption,click:e.resetSendResult},model:{value:e.selectItem,callback:function(t){e.selectItem=t},expression:"selectItem"}}),e._l(e.options.itemOptions,(function(i,s){return t(O["a"],{key:s,ref:"itemOptions",refInFor:!0,attrs:{items:i.value,rules:[e=>!!e||"옵션을 선택해주세요."],label:i.label,required:""},on:{click:e.resetSendResult},model:{value:e.selectOption[s],callback:function(t){e.$set(e.selectOption,s,t)},expression:"selectOption[i]"}})})),t(I["a"],{ref:"email",attrs:{rules:e.emailRules,label:"이메일",hint:"아이디만 입력시 자동으로 @naver.com 가 추가됩니다.",required:"","validate-on-blur":""},on:{blur:e.addNaverDomain,click:e.resetSendResult},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("div",{staticClass:"mt-6 d-flex justify-space-between"},[t(h["a"],{staticClass:"mr-2",attrs:{disabled:!e.valid||e.loading,loading:e.loading,width:"160",color:"black white--text",elevation:"0","x-large":""},on:{click:e.sendMail},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",[e._v("전송중...")])]},proxy:!0}])},[e._v(" 메일 보내기 ")]),t(h["a"],{attrs:{color:"grey",width:"160","x-large":"",outlined:""},on:{click:e.resetForm}},[e._v(" 모두 지우기 ")])],1)],2),""!==e.sendResult?t("ResultAlert",{attrs:{sendResult:e.sendResult}}):e._e()],1)},y=[];const _=[{itemId:6175018692,itemName:"2023 심플 플래너",itemOptionLabel:"컬러",itemOptions:[{label:"컬러",value:["라이트","인디핑크","스카이블루","다크"]}]},{itemId:6173761992,itemName:"2023 모던 플래너",itemOptionLabel:"컬러",itemOptions:[{label:"컬러",value:["화이트","다크"]}]},{itemId:7551229680,itemName:"2023 타임라인 플래너",itemOptions:[{label:"위클리타입",value:["스케줄","타임테이블"]}]},{itemId:6230373650,itemName:"2023 먼슬리&데일리 플래너",itemOptions:[{label:"컬러",value:["화이트","다크"]},{label:"시작요일",value:["일요일시작","월요일시작"]},{label:"데일리타입",value:["스케줄","타임테이블"]}]},{itemId:6183672844,itemName:"31DAYS 플래너",itemOptions:[{label:"컬러",value:["화이트","다크"]},{label:"데일리타입",value:["스케줄","타임테이블"]}]},{itemId:6339448390,itemName:"3년 5년 일기",itemOptions:[{label:"연도",value:["3년","5년"]},{label:"컬러",value:["화이트","다크"]}]},{itemId:7674508068,itemName:"레시피북",itemOptions:[{label:"컬러",value:["크림","올리브","토스트","차콜"]}]},{itemId:6668700804,itemName:"세로형 인덱스 노트",itemOptions:[{label:"컬러",value:["화이트","다크"]}]},{itemId:6711856094,itemName:"가로형 인덱스 노트",itemOptions:[{label:"컬러",value:["화이트","다크"]}]},{itemId:6907619722,itemName:"독서노트",itemOptions:[{label:"컬러",value:["화이트","다크"]}]},{itemId:7118280906,itemName:"드라마노트",itemOptions:[{label:"컬러",value:["화이트","다크"]}]},{itemId:6390846551,itemName:"먼슬리 트래커북",itemOptions:[{label:"컬러",value:["차콜","캔디핑크","스카이블루"]}]},{itemId:6293308097,itemName:"180 베이직 노트",itemOption:[""]},{itemId:6498685859,itemName:"180 체커보드 노트",itemOption:[""]}];var R=i("cee4");function x(){return R["a"].create({baseURL:"https://send-mail-server-sunyoungoh.koyeb.app"})}const w=x(),k=e=>w.post("/mail",e),N=e=>w.get("/naver/"+e),S=e=>w.post("/naver/"+e);var j=i("0798"),M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pt-6"},[t(j["a"],{attrs:{type:e.sendResult},model:{value:e.sendResult,callback:function(t){e.sendResult=t},expression:"sendResult"}},["success"==e.sendResult?t("span",[e._v(" 메일을 "),t("strong",[e._v("성공적")]),e._v("으로 보냈습니다. ")]):e._e(),"error"==e.sendResult?t("span",[e._v(" 메일 전송을 "),t("strong",[e._v("실패")]),e._v("하였습니다. ")]):e._e()])],1)},C=[],$={props:{sendResult:{type:String,default:""}}},E=$,P=Object(m["a"])(E,M,C,!1,null,null,null),D=P.exports,F={name:"MailForm",components:{ResultAlert:D},data:()=>({loading:!1,valid:!0,orderId:"2022120590516031",orderIdErrorMsg:"",orderIdValid:!0,email:"",emailRules:[e=>!!e||"이메일을 입력해주세요.",e=>/.+@.+\..+/.test(e)||"이메일 형식으로 입력해주세요"],selectItem:"",selectOption:[],sendResult:"",items:_}),computed:{options(){const e=this.selectItem?this.items.filter(e=>e.itemId==this.selectItem)[0]:[{itemOption:"",itemOptionLabel:"상품옵션"}];return e}},methods:{makeOptionStr(){return""!==this.selectOption?this.selectOption.join():""},async getOrderDetail(){if(this.orderId)try{const{data:e}=await N(this.orderId);this.selectItem=e.itemNo,this.selectOption=e.option}catch(e){400==e.response.status&&(this.orderIdErrorMsg=e.response.data)}},async sendMail(){if(this.sendResult="",this.$refs.form.validate(),this.email&&this.selectItem){this.loading=!0;const t=this.makeOptionStr();try{const i=await k({itemId:this.selectItem,itemOptionName:t,toEmail:this.email});if(200==i.status){if(this.orderId)try{console.log({itemId:this.selectItem,itemOptionName:t,toEmail:this.email}),await S(this.orderId)}catch(e){this.sendResult="error"}this.sendResult="success"}}catch(e){this.sendResult="error"}finally{this.loading=!1}}},addNaverDomain(){this.email&&-1==this.email.indexOf("@")&&(this.email=this.email+"@naver.com",this.$refs.email.resetValidation())},resetSelectOption(){if(this.$refs.itemOptions)for(let e=0;e<this.$refs.itemOptions.length;e++)this.$refs.itemOptions[e].reset();this.selectOption=[]},resetSendResult(){this.sendResult=""},resetForm(){this.resetSendResult(),this.$refs.form.reset()}}},A=F,L=Object(m["a"])(A,g,y,!1,null,"617a1ca4",null),q=L.exports,T={name:"Home",components:{MailForm:q}},H=T,J=Object(m["a"])(H,f,v,!1,null,null,null),V=J.exports;s["a"].use(p["a"]);const z=[{path:"/",name:"Home",component:V}],U=new p["a"]({mode:"history",base:"/vue-send-mail/",routes:z});var Y=U,B=i("f309"),G=i("fcf4");s["a"].use(B["a"]);var K=new B["a"]({theme:{themes:{light:{primary:G["a"].grey.darken4}}}});s["a"].config.productionTip=!1,new s["a"]({router:Y,vuetify:K,render:e=>e(d)}).$mount("#app")},7637:function(e,t,i){"use strict";i("9b56")},"9b56":function(e,t,i){}});
//# sourceMappingURL=app.e885e88f.js.map